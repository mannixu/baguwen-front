{"version":3,"sources":["uni-app:///main.js","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?84a0","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?0324","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?8fc4","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?48c7","uni-app:///pages/hot/hot.vue","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?a19a","webpack:///D:/JavaEE/uniapp在线教育/pages/hot/hot.vue?92ea"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,uF,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,6mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkDpnB,mD;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,iBAFA;AAGA;AACA,qBAJA;AAKA;AACA,qBANA;AAOA;AACA,kBARA;;AAUA;AACA,4BAXA;AAYA;AACA,0BAbA;AAcA;AACA,6BAfA;;;AAkBA,GApBA;;AAsBA;AACA,SAvBA,qBAuBA;AACA;AACA;;AAEA,GA3BA;AA4BA;AACA,cADA,wBACA;AACA;AACA,6CAFA;AAGA,wCAHA,4CAGA,GAHA,sBAGA,IAHA;AAIA;AACA;AACA;AACA;AACA,0CARA;AASA,KAVA;;AAYA;;;AAGA,qBAfA,+BAeA;AACA;AACA;AACA;AAHA,oBAIA,oCAJA;AAKA;;AAEA,kBAPA,GAOA,yCAPA;;AASA,gCATA;AAUA,qDAVA,gDAUA,GAVA,yBAUA,IAVA;AAWA;AACA;AACA,iCAbA;;;;;AAkBA;AACA;AACA;AACA;;AAEA,2DAFA,SAEA,0BAFA;AAGA;AACA,oGAJA;AAKA,iBALA,EArBA;AA2BA,KA1CA;;AA4CA;;;AAGA,YA/CA,oBA+CA,KA/CA,EA+CA;AACA;AACA;AACA;AACA,KAnDA;AAoDA;;;AAGA,eAvDA,yBAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/DA;;;;AAmEA;;;AAGA,0BAtEA,oCAsEA;AACA;AACA;AACA;AACA;AACA,iBADA,0BACA,mBADA;AAEA,0BAFA,CAEA;AACA;AACA;AACA,WAFA;AAGA;AACA,SAPA;AAQA,YARA;AASA,OAZA;AAaA,KApFA;AAqFA;AACA,kBAtFA,0BAsFA,CAtFA,EAsFA;AACA;AACA,KAxFA;AAyFA;;;AAGA,gBA5FA,wBA4FA,GA5FA,EA4FA;AACA;AACA,KA9FA;;;AAiGA,GAjGA,EAiGA;AACA;AACA;AACA;AACA,sBADA;;AAGA;AACA;AACA,GAzGA;;;;AA6GA;AACA;AACA,kDADA;;AAGA,GAjHA;AAkHA,MAlHA,EAkHA;AACA;AACA;AACA,+GADA;;AAGA,GAvHA,YA5BA,E;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAmqC,CAAgB,onCAAG,EAAC,C;;;;;;;;;;;ACAvrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/hot/hot.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/hot/hot.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./hot.vue?vue&type=template&id=41251cbc&scoped=true&\"\nvar renderjs\nimport script from \"./hot.vue?vue&type=script&lang=js&\"\nexport * from \"./hot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hot.vue?vue&type=style&index=0&id=41251cbc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41251cbc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/hot/hot.vue\"\nexport default component.exports","export * from \"-!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=template&id=41251cbc&scoped=true&\"","var components\ntry {\n  components = {\n    mySearch: function() {\n      return import(\n        /* webpackChunkName: \"components/my-search/my-search\" */ \"@/components/my-search/my-search.vue\"\n      )\n    },\n    myTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/my-tabs/my-tabs\" */ \"@/components/my-tabs/my-tabs.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    hotListItem: function() {\n      return import(\n        /* webpackChunkName: \"components/hot-list-item/hot-list-item\" */ \"@/components/hot-list-item/hot-list-item.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HbuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HbuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"hot-container\">\n    <!-- logo -->\n    <image class=\"logo\" mode=\"aspectFit\" src=\"@/static/images/logo.png\" />\r\n\t<view class=\"search-box\" @click=\"onToSearch\">\r\n\t    <!-- 搜索模块 -->\r\n\t    <my-search placeholderText=\"uni-app 自定义组件\" />\r\n\t</view>\r\n\t<view class=\"tab-sticky\">\r\n\t<!-- tabs -->\r\n\t    <my-tabs \r\n\t\t:tabData=\"tabData\" \r\n\t\t:defaultIndex=\"currentIndex\"\r\n\t\t@tabClick=\"tabClick\">\r\n\t\t</my-tabs>\r\n\t</view>\r\n\t\t\r\n\t\t\r\n\t\t <!-- 基于 swiper 的 list 列表 -->\r\n\t\t     <swiper class=\"swiper\" \r\n\t\t\t :current=\"currentIndex\" \r\n\t\t\t :style=\"{ height: currentSwiperHeight + 'px' }\"\r\n\t\t\t  @animationfinish=\"onSwiperEnd\"\r\n\t\t\t       @change=\"onSwiperChange\"\r\n\t\t\t\t   >\r\n\t\t     <swiper-item class=\"swiper-item\" v-for=\"(tabItem, tabIndex) in tabData\" :key=\"tabIndex\">\r\n\t\t        <view>\r\n\t\t          <!-- 加载动画 -->\r\n\t\t          <uni-load-more status=\"loading\" v-if=\"isLoading\"></uni-load-more>\r\n\t\t          <!-- 列表 -->\r\n\t\t          <block v-else>\r\n\t\t            <!-- 列表循环数据更改为 listData[tabIndex] -->\r\n\t\t            <hot-list-item\r\n\t\t\t\t\t :class=\"'hot-list-item-' + tabIndex\"\r\n\t\t              v-for=\"(item, index) in listData[tabIndex]\"\r\n\t\t              :key=\"index\"\r\n\t\t              :data=\"item\"\r\n\t\t              :ranking=\"index + 1\"\r\n\t\t\t\t\t  @click=\"onItemClick(item)\"\r\n\t\t            ></hot-list-item>\r\n\t\t          </block>\r\n\t\t        </view>\r\n\t\t      </swiper-item>\r\n\t\t    </swiper>\r\n\t\n  </view>\r\n\t  \n</template>\n\n<script>\r\n\timport { getHotTabs, getHotListFromTabType } from 'api/hot';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// tabs 数据源\r\n\t\t\t\ttabData: [],\r\n\t\t\t\t// 当前的切换 index\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\t// list 列表数据加载过程\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\t// 以 index 为 key，对应的 list 为 val\r\n\t\t\t\tlistData: {},\r\n\t\t\t\t\r\n\t\t\t\t // 当前 swiper 的高度\r\n\t\t\t\tcurrentSwiperHeight: 0,\r\n\t\t\t\t      // 以 index 为 key，对应的 swiper 的高度 为 val\r\n\t\t\t\tswiperHeightData: {},\r\n\t\t\t\t// 当前的滚动距离\r\n\t\t\t\tcurrentPageScrollTop: 0 \r\n\n\t\t\t};\n\t\t},\n\t\r\n\t// 在实例创建完成后被立即调用\r\n\tcreated() {\r\n\t\tconsole.log(\"create执行了\")\r\n\t  this.getHotTabs();\r\n\t  \r\n\t},\r\n\tmethods: {\r\n\t\tasync getHotTabs(){\r\n\t\t\t// uniapp 支持 async await\r\n\t\t\tconsole.log(\"gethottabs执行了\")\r\n\t\t\t const { data: res } = await getHotTabs();\r\n\t\t\t console.log(res)\r\n\t\t\t this.tabData = res;\r\n\t\t\t console.log(this.tabData+\"this.tabdata\")\r\n\t\t\t // 获取列表数据\r\n\t\t\t this.getHotListFromTab();\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t     * list 列表数据\r\n\t\t     */\r\n\t\t    async getHotListFromTab() {\r\n\t\t      // 展示 loading\r\n\t\t      this.isLoading = true;\r\n\t\t      // 判断缓存是否有数据，不存在则重新获取数据\r\n\t\t      if (!this.listData[this.currentIndex]) {\r\n\t\t        // 获取列表数据\r\n\t\t\t\t\r\n\t\t        const id = this.tabData[this.currentIndex].title;\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(id)\r\n\t\t        const { data: res } = await getHotListFromTabType(id);\r\n\t\t        // 放入数据缓存\r\n\t\t        this.listData[this.currentIndex] = res;\r\n\t\t\t\tconsole.log(res)\r\n\t\t      }\r\n\t\t\t  \r\n\t\t\t  \r\n\t\t\r\n\t\t      // 隐藏 loading\r\n\t\t      this.isLoading = false;\r\n\t\t\t   // 因为 this.$nextTick 存在一定的兼容性问题，所以更加推荐使用 setTimeout\r\n\t\t\t        setTimeout(async () => {\r\n\t\t\t          // 获取当前 swiper 的高度\r\n\t\t\t          this.currentSwiperHeight = await this.getCurrentSwiperHeight();\r\n\t\t\t          // 放入缓存\r\n\t\t\t          this.swiperHeightData[this.currentIndex] = this.currentSwiperHeight;\r\n\t\t\t        }, 0);\r\n\t\t    },\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t     * tab item 的点击事件\r\n\t\t\t     */\r\n\t\t\ttabClick(index) {\r\n\t\t\t    this.currentIndex = index;\r\n\t\t\t\t// 获取列表数据\r\n\t\t\t    this.getHotListFromTab();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 解决卡顿问题；等待 swiper 动画完成之后，获取数据\r\n\t\t\t */\r\n\t\t\tonSwiperEnd() {\r\n\t\t\t  // 判断缓存是否有数据，不存在则重新获取数据\r\n\t\t\t  if (!this.listData[this.currentIndex]) {\r\n\t\t\t    this.getHotListFromTab();\r\n\t\t\t    return;\r\n\t\t\t  }\r\n\t\t\t  // 未 return ，则证明存在缓存数据，即同时存在 height 的缓存数据\r\n\t\t\t  this.currentSwiperHeight = this.swiperHeightData[this.currentIndex];\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t /**\r\n\t\t\t     * 计算当前 swiper 的高度\r\n\t\t\t     */\r\n\t\t\t    getCurrentSwiperHeight() {\r\n\t\t\t      return new Promise((resolve, reject) => {\r\n\t\t\t        let sum = 0;\r\n\t\t\t        const query = uni.createSelectorQuery().in(this);\r\n\t\t\t        query\r\n\t\t\t          .selectAll(`.hot-list-item-${this.currentIndex}`)\r\n\t\t\t          .boundingClientRect((res) => {\r\n\t\t\t            res.forEach((item) => {\r\n\t\t\t              sum += item.height;\r\n\t\t\t            });\r\n\t\t\t            resolve(sum);\r\n\t\t\t          })\r\n\t\t\t          .exec();\r\n\t\t\t      });\r\n\t\t\t    },\r\n\t\t// 监听 swiper 的切换事件\r\n\t\t\t\tonSwiperChange(e) {\r\n\t\t\t\t\tthis.currentIndex = e.detail.current;\r\n\t\t            },\r\n\t\t/**\r\n\t\t   * 监听页面的滚动\r\n\t\t   */\r\n\t\t  onPageScroll(res) {\r\n\t\t    this.currentPageScrollTop = res.scrollTop;\r\n\t\t  },   \r\n\t\t\r\n\t\t\t// 监听 swiper 的切换事件\r\n\t\t    onSwiperChange(e) {\r\n\t\t      if (this.currentPageScrollTop > 130) {\r\n\t\t        // 控制列表滚动位置\r\n\t\t        uni.pageScrollTo({\r\n\t\t          scrollTop: 130\r\n\t\t        });\r\n\t\t      }\t\r\n\t\t      this.currentIndex = e.detail.current;\r\n\t\t    },\r\n\t\t /**\r\n\t\t      搜索框点击事件\r\n\t\t     */\r\n\t\t    onToSearch() {\r\n\t\t      uni.navigateTo({\r\n\t\t        url: '/subpkg/pages/search-blog/search-blog'\r\n\t\t      });\r\n\t\t    },\r\n\t\tonItemClick(item) {\r\n\t\t\tconsole.log(\"被点击\")\r\n\t\t      uni.navigateTo({\r\n\t\t        url: `/subpkg/pages/blog-detail/blog-detail?articleId=${item.id}&author=${item.nickname}`\r\n\t\t      });\r\n\t\t    }\r\n\t}\r\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.hot-container {\n  background-color: $uni-bg-color;\n  .logo {\n    width: 100%;\n    height: 80px;\n  }\r\n  .search-box {\r\n      padding: 0 16px;\r\n      margin-bottom: $uni-spacing-col-base;\r\n    }\r\n\t.tab-sticky {\r\n\t    position: -webkit-sticky;\r\n\t    position: sticky;\r\n\t    z-index: 99;\r\n\t    top: 0;\r\n\t  }\n}\n</style>\n","import mod from \"-!../../../../HbuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HbuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HbuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=style&index=0&id=41251cbc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HbuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HbuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HbuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=style&index=0&id=41251cbc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1672323724096\n      var cssReload = require(\"D:/HbuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}